<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡ - POS SA</title>
    <link rel="stylesheet" href="../../../assets/css/tailwind.min.css">
    <style>
      @font-face {
        font-family: 'Cairo';
        font-weight: 200;
        src: url('../../../assets/fonts/Cairo-ExtraLight.ttf') format('truetype');
      }
      @font-face {
        font-family: 'Cairo';
        font-weight: 300;
        src: url('../../../assets/fonts/Cairo-Light.ttf') format('truetype');
      }
      @font-face {
        font-family: 'Cairo';
        font-weight: 400;
        src: url('../../../assets/fonts/Cairo-Regular.ttf') format('truetype');
      }
      @font-face {
        font-family: 'Cairo';
        font-weight: 500;
        src: url('../../../assets/fonts/Cairo-Medium.ttf') format('truetype');
      }
      @font-face {
        font-family: 'Cairo';
        font-weight: 600;
        src: url('../../../assets/fonts/Cairo-SemiBold.ttf') format('truetype');
      }
      @font-face {
        font-family: 'Cairo';
        font-weight: 700;
        src: url('../../../assets/fonts/Cairo-Bold.ttf') format('truetype');
      }
      @font-face {
        font-family: 'Cairo';
        font-weight: 800;
        src: url('../../../assets/fonts/Cairo-ExtraBold.ttf') format('truetype');
      }
      @font-face {
        font-family: 'Cairo';
        font-weight: 900;
        src: url('../../../assets/fonts/Cairo-Black.ttf') format('truetype');
      }
      
      *{ box-sizing:border-box; }
      
      body{ 
        font-family: 'Cairo', system-ui, -apple-system, "Segoe UI", Roboto, "Noto Kufi Arabic", Arial, sans-serif;
      }
      
      button {
        transition: none !important;
        animation: none !important;
      }
      button:hover {
        transform: none !important;
      }
      button:active {
        transform: none !important;
      }
      
      /* Button Colors */
      .bg-blue-700 { background-color: #1d4ed8 !important; }
      .bg-emerald-600 { background-color: #059669 !important; }
      .bg-green-700 { background-color: #15803d !important; }
      .bg-orange-600 { background-color: #ea580c !important; }
      .bg-red-600 { background-color: #dc2626 !important; }
      .bg-green-600 { background-color: #16a34a !important; }
      .bg-slate-700 { background-color: #334155 !important; }
      .bg-blue-600 { background-color: #2563eb !important; }
      
      .border-blue-500 { border-color: #3b82f6 !important; }
      .border-emerald-600 { border-color: #059669 !important; }
      .border-green-500 { border-color: #22c55e !important; }
      .border-orange-500 { border-color: #f97316 !important; }
      .border-red-500 { border-color: #ef4444 !important; }
      .border-green-500 { border-color: #22c55e !important; }
      .border-slate-600 { border-color: #475569 !important; }
      
      .error:empty { display: none; }
      
      /* Toast Notifications */
      .toast-container {
        position: fixed;
        top: 80px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 9999;
        display: flex;
        flex-direction: column;
        gap: 12px;
        align-items: center;
        pointer-events: none;
      }
      
      .toast {
        padding: 16px 24px;
        border-radius: 16px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
        display: flex;
        align-items: center;
        gap: 12px;
        font-weight: 600;
        font-size: 15px;
        min-width: 320px;
        max-width: 600px;
        border: 2px solid;
        pointer-events: auto;
      }
      
      .toast.hiding {
        display: none;
      }
      
      .toast.success {
        border-color: #16a34a;
        background: #dcfce7;
        color: #15803d;
      }
      
      .toast.error {
        border-color: #dc2626;
        background: #fee2e2;
        color: #991b1b;
      }
      
      .toast.warning {
        border-color: #d97706;
        background: #fef3c7;
        color: #92400e;
      }
      
      .toast.info {
        border-color: #3b82f6;
        background: #dbeafe;
        color: #1e40af;
      }
      
      .toast-icon {
        font-size: 24px;
        flex-shrink: 0;
      }
      
      .toast-message {
        flex: 1;
        line-height: 1.5;
      }
    </style>
  </head>
  <body class="bg-slate-50 min-h-screen">
    <!-- Header -->
    <header class="sticky top-0 z-50 bg-white border-b-2 border-slate-200 shadow-lg">
      <div class="flex items-center justify-between px-4 py-3 gap-3">
        <div class="flex items-center gap-3">
          <div class="w-12 h-12 bg-blue-600 rounded-2xl flex items-center justify-center text-white text-xl font-black shadow-md">
            ğŸ‘¥
          </div>
          <span class="text-xl font-black text-slate-800 hidden sm:inline">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</span>
        </div>
        <nav class="flex items-center gap-2">
          <button onclick="window.location.href='../main/index.html'" 
                  class="px-4 py-2.5 bg-emerald-600 text-white rounded-xl font-bold flex items-center gap-2 shadow-md border border-emerald-600">
            <span class="text-base">ğŸ </span>
            <span class="hidden sm:inline">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
            <span class="sm:hidden">Ø±Ø¦ÙŠØ³ÙŠØ©</span>
          </button>
        </nav>
      </div>
    </header>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 py-5">
      <!-- Actions Bar -->
      <div class="bg-white rounded-2xl shadow-lg border border-slate-200 p-4 mb-5">
        <div class="flex flex-col lg:flex-row items-stretch lg:items-center justify-between gap-4">
          <!-- Search -->
          <div class="flex-1 max-w-xl">
            <div class="relative">
              <span class="absolute right-4 top-1/2 transform -translate-y-1/2 text-slate-400 text-lg">ğŸ”</span>
              <input id="q" type="text" placeholder="Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„..." 
                     class="w-full pr-12 pl-4 py-3.5 border-2 border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 shadow-sm font-semibold text-slate-700 placeholder-slate-400"/>
            </div>
          </div>
          
          <!-- Action Buttons -->
          <div class="flex flex-wrap gap-2">
            <button id="addBtn" 
                    class="px-4 py-3 bg-blue-700 text-white rounded-xl font-bold shadow-md flex items-center gap-2 border border-blue-500">
              <span class="text-base">â•</span>
              <span class="hidden sm:inline">Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯</span>
              <span class="sm:hidden">Ø¥Ø¶Ø§ÙØ©</span>
            </button>
            <button id="exportExcelBtn" 
                    class="px-4 py-3 bg-green-700 text-white rounded-xl font-bold shadow-md flex items-center gap-2 border border-green-500">
              <span class="text-base">ğŸ“Š</span>
              <span class="hidden sm:inline">ØªØµØ¯ÙŠØ± Excel</span>
              <span class="sm:hidden">Excel</span>
            </button>
          </div>
        </div>
      </div>

      <!-- Error Message -->
      <div class="error text-red-700 bg-red-100 border border-red-300 px-4 py-3 rounded-xl mb-4 shadow-sm font-medium" id="error"></div>

      <!-- Page Controls -->
      <div class="flex flex-col sm:flex-row items-center justify-between gap-3 mb-4">
        <div class="flex items-center gap-3 bg-white px-5 py-3 rounded-xl border-2 border-slate-200 shadow-md">
          <span class="text-slate-700 font-bold text-sm">ğŸ“‹ Ø¹Ø¯Ø¯ Ø§Ù„ØµÙÙˆÙ:</span>
          <select id="pageSize" 
                  class="px-3 py-2 border-2 border-slate-300 rounded-lg bg-white text-sm font-bold focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
            <option value="20">20 ØµÙ</option>
            <option value="50">50 ØµÙ</option>
            <option value="100">100 ØµÙ</option>
            <option value="0">Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„</option>
          </select>
        </div>
        <div id="pagerTop" class="flex items-center gap-2"></div>
      </div>

      <!-- Table Container -->
      <div class="bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden">
        <div class="overflow-x-auto">
          <table class="w-full">
            <thead>
              <tr class="bg-slate-100 border-b border-slate-200">
                <th class="px-5 py-4 text-right text-sm font-bold text-blue-700">ğŸ†” #</th>
                <th class="px-5 py-4 text-right text-sm font-bold text-blue-700">ğŸ‘¤ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„</th>
                <th class="px-5 py-4 text-right text-sm font-bold text-blue-700">ğŸ“± Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„</th>
                <th class="px-5 py-4 text-right text-sm font-bold text-blue-700">ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</th>
                <th class="px-5 py-4 text-right text-sm font-bold text-blue-700">ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</th>
                <th class="px-5 py-4 text-right text-sm font-bold text-blue-700">âš¡ Ø§Ù„Ø­Ø§Ù„Ø©</th>
                <th class="px-5 py-4 text-center text-sm font-bold text-blue-700">âš™ï¸ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª</th>
              </tr>
            </thead>
            <tbody id="tbody" class="divide-y divide-slate-100"></tbody>
          </table>
        </div>
      </div>

      <!-- Bottom Pager -->
      <div id="pagerBottom" class="flex items-center justify-center gap-2 mt-5"></div>
    </div>

    <!-- Add/Edit Customer Dialog -->
    <dialog id="dlg" class="rounded-3xl border-0 shadow-2xl p-0 w-[95vw] max-w-3xl bg-white backdrop:bg-black/50">
      <div class="bg-blue-700 text-white px-6 py-5 rounded-t-3xl">
        <span id="dlgTitle" class="text-lg font-bold">â• Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙŠÙ„ Ø¬Ø¯ÙŠØ¯</span>
      </div>
      <div class="p-6 space-y-5">
        <!-- Dialog Error Message -->
        <div id="dlgError" class="hidden text-red-700 bg-red-100 border-2 border-red-400 px-4 py-3 rounded-xl font-bold text-sm flex items-center gap-2">
          <span class="text-lg">âš ï¸</span>
          <span id="dlgErrorText"></span>
        </div>
        <!-- Row 1 -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-semibold text-slate-700 mb-2">ğŸ‘¤ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„ÙƒØ§Ù…Ù„</label>
            <input id="f_name" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„..." 
                   class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm"/>
          </div>
          <div>
            <label class="block text-sm font-semibold text-slate-700 mb-2">ğŸ“± Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„</label>
            <input id="f_phone" type="tel" placeholder="Ù…Ø«Ø§Ù„: 0501234567" inputmode="numeric" pattern="[0-9]*"
                   class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm"/>
          </div>
        </div>
        
        <!-- Row 2 -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-semibold text-slate-700 mb-2">ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
            <input id="f_email" type="email" placeholder="Ù…Ø«Ø§Ù„: customer@example.com" 
                   class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm"/>
          </div>
          <div>
            <label class="block text-sm font-semibold text-slate-700 mb-2">ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</label>
            <input id="f_address" placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¹Ù…ÙŠÙ„..." 
                   class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm"/>
          </div>
        </div>
        
        <!-- Row 3 -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-semibold text-slate-700 mb-2">ğŸ¢ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
            <input id="f_vat" type="tel" placeholder="Ù…Ø«Ø§Ù„: 300123456700003" maxlength="15" inputmode="numeric" pattern="[0-9]*"
                   class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm"/>
          </div>
          <div>
            <label class="block text-sm font-semibold text-slate-700 mb-2">ğŸ§¾ Ø±Ù‚Ù… Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
            <input id="f_cr" type="tel" placeholder="Ù…Ø«Ø§Ù„: 1010123456" maxlength="20" inputmode="numeric" pattern="[0-9]*"
                   class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm"/>
          </div>
        </div>
        
        <!-- Row 4 -->
        <div>
          <label class="block text-sm font-semibold text-slate-700 mb-2">ğŸ  Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙˆØ·Ù†ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
          <input id="f_nataddr" placeholder="Ù…Ø«Ø§Ù„: 1234-Ø­ÙŠ-Ù…Ø¯ÙŠÙ†Ø©-Ø±Ù…Ø² Ø¨Ø±ÙŠØ¯ÙŠ" 
                 class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm"/>
        </div>
        
        <!-- Notes -->
        <div>
          <label class="block text-sm font-semibold text-slate-700 mb-2">ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©</label>
          <textarea id="f_notes" placeholder="Ø£ÙŠ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø®Ø§ØµØ© Ø¨Ø§Ù„Ø¹Ù…ÙŠÙ„..." 
                    class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm min-h-[100px] resize-y"></textarea>
        </div>
        
        <!-- Actions -->
        <div class="flex gap-3 justify-end pt-2">
          <button id="dlgCancel" 
                  class="px-6 py-2.5 bg-white border border-slate-300 text-slate-700 rounded-xl font-semibold shadow-sm">
            âŒ Ø¥Ù„ØºØ§Ø¡
          </button>
          <button id="dlgSave" 
                  class="px-6 py-2.5 bg-blue-700 text-white rounded-xl font-semibold shadow-md">
            âœ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
          </button>
        </div>
      </div>
    </dialog>

    <!-- Confirmation Dialog -->
    <dialog id="confirmDialog" class="rounded-3xl border-0 shadow-2xl p-0 w-[95vw] max-w-md bg-white backdrop:bg-black/50">
      <div id="confirmHeader" class="bg-blue-700 text-white px-6 py-5 rounded-t-3xl flex items-center gap-3">
        <span id="confirmIcon" class="text-2xl">âš ï¸</span>
        <span id="confirmTitle" class="text-lg font-bold">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</span>
      </div>
      <div id="confirmMessage" class="px-6 py-6 text-slate-700 leading-relaxed">
        Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ØŸ
      </div>
      <div class="flex gap-3 justify-end px-6 pb-6">
        <button id="confirmCancel" 
                class="px-6 py-2.5 bg-white border border-slate-300 text-slate-700 rounded-xl font-semibold shadow-sm">
          Ø¥Ù„ØºØ§Ø¡
        </button>
        <button id="confirmOk" 
                class="px-6 py-2.5 bg-blue-700 text-white rounded-xl font-semibold shadow-md">
          ØªØ£ÙƒÙŠØ¯
        </button>
      </div>
    </dialog>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <script src="./renderer.js"></script>
  </body>
</html>